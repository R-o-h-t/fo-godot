[gd_scene load_steps=14 format=4 uid="uid://c2tuctoh4htmw"]

[ext_resource type="Texture2D" uid="uid://b2wcvvgac4x6v" path="res://assets/Tileset1.png" id="1_6bw2v"]
[ext_resource type="Script" uid="uid://0mmma7c3xt4d" path="res://scripts/grid/move_to_grid.gd" id="2_kem5a"]
[ext_resource type="Script" uid="uid://btpvs3o7syi78" path="res://scripts/actor/actor.gd" id="3_gxmxl"]
[ext_resource type="Texture2D" uid="uid://srqngjok4j7q" path="res://assets/highlighted_hex.png" id="3_kem5a"]
[ext_resource type="Texture2D" uid="uid://bnp0il8kdueuy" path="res://assets/Isometric/block_E.png" id="4_884kg"]
[ext_resource type="Script" uid="uid://dirpxrivqygh" path="res://scripts/grid/layer/grid_layer.gd" id="4_d4o4o"]
[ext_resource type="Script" uid="uid://b2jti6cxxenal" path="res://components/movement/movement_component.gd" id="4_n4w22"]
[ext_resource type="Texture2D" uid="uid://cb38j11d67i0g" path="res://assets/Characters/Human/Human_0_Idle0.png" id="6_gxmxl"]
[ext_resource type="Script" uid="uid://j3332qarlia6" path="res://scripts/camera/interactive_camera.gd" id="7_gxmxl"]
[ext_resource type="PackedScene" uid="uid://b2wuelccojwpu" path="res://demo_ui.tscn" id="10_d4o4o"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_gdsc3"]
texture = ExtResource("1_6bw2v")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:2/0 = 0

[sub_resource type="TileSet" id="TileSet_svejp"]
tile_shape = 3
tile_layout = 5
tile_size = Vector2i(32, 21)
sources/1 = SubResource("TileSetAtlasSource_gdsc3")

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_n4w22"]
radius = 11.0
height = 60.0

[node name="Node2D" type="Node2D"]

[node name="obstacles" type="Node" parent="."]

[node name="Cube" type="StaticBody2D" parent="obstacles"]
position = Vector2(63, 57)
input_pickable = true

[node name="Sprite2D" type="Sprite2D" parent="obstacles/Cube"]
position = Vector2(1, -20)
scale = Vector2(0.1, 0.1)
texture = ExtResource("4_884kg")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="obstacles/Cube"]
polygon = PackedVector2Array(-12, 0, 1, 6, 14, 0, 14, -17, 1, -23, -12, -17)

[node name="Cube2" type="StaticBody2D" parent="obstacles"]
position = Vector2(127, -6)
input_pickable = true

[node name="Sprite2D" type="Sprite2D" parent="obstacles/Cube2"]
position = Vector2(1, -20)
scale = Vector2(0.1, 0.1)
texture = ExtResource("4_884kg")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="obstacles/Cube2"]
polygon = PackedVector2Array(-12, 0, 1, 6, 14, 0, 14, -17, 1, -23, -12, -17)

[node name="Cube3" type="StaticBody2D" parent="obstacles"]
position = Vector2(111, 9)
input_pickable = true

[node name="Sprite2D" type="Sprite2D" parent="obstacles/Cube3"]
position = Vector2(1, -20)
scale = Vector2(0.1, 0.1)
texture = ExtResource("4_884kg")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="obstacles/Cube3"]
polygon = PackedVector2Array(-12, 0, 1, 6, 14, 0, 14, -17, 1, -23, -12, -17)

[node name="Cube4" type="StaticBody2D" parent="obstacles"]
position = Vector2(79, -54)
input_pickable = true

[node name="Sprite2D" type="Sprite2D" parent="obstacles/Cube4"]
position = Vector2(1, -20)
scale = Vector2(0.1, 0.1)
texture = ExtResource("4_884kg")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="obstacles/Cube4"]
polygon = PackedVector2Array(-12, 0, 1, 6, 14, 0, 14, -17, 1, -23, -12, -17)

[node name="Grid" type="Node2D" parent="." node_paths=PackedStringArray("movement_component", "highlight_marker", "active_layer")]
script = ExtResource("2_kem5a")
movement_component = NodePath("../Player/MovementComponent")
highlight_marker = NodePath("highlight_marker")
active_layer = NodePath("GridLayer")
metadata/_custom_type_script = "uid://0mmma7c3xt4d"

[node name="GridLayer" type="TileMapLayer" parent="Grid" node_paths=PackedStringArray("objects")]
tile_map_data = PackedByteArray("AAABAPz/AQAAAAAAAAAAAPz/AQAAAAIAAAD///z/AQAAAAIAAAD6////AQAAAAIAAAD6/wAAAQAAAAIAAAD6/wEAAQAAAAIAAAD6/wIAAQAAAAIAAAAAAAYAAQAAAAAAAAABAAYAAQAAAAAAAAACAAYAAQAAAAAAAAADAAYAAQAAAAAAAAAEAAYAAQAAAAAAAAAFAAUAAQAAAAAAAAAGAAQAAQAAAAAAAAAGAAMAAQAAAAIAAAAGAAIAAQAAAAIAAAAGAAEAAQAAAAIAAAAHAAEAAQAAAAIAAAAHAAAAAQAAAAIAAAAGAP//AQAAAAIAAAAGAP7/AQAAAAIAAAAGAP3/AQAAAAIAAAAIAPz/AQAAAAAAAAAIAP3/AQAAAAAAAAAIAP7/AQAAAAAAAAAJAP3/AQAAAAAAAAAJAPz/AQAAAAAAAAAKAPv/AQAAAAAAAAAKAPr/AQAAAAAAAAAKAPn/AQAAAAAAAAAJAPn/AQAAAAAAAAAJAPj/AQAAAAAAAAAIAPj/AQAAAAAAAAAHAPn/AQAAAAAAAAAHAPr/AQAAAAAAAAAHAPv/AQAAAAIAAAAHAPz/AQAAAAIAAAAHAP3/AQAAAAIAAAAIAP//AQAAAAAAAAAIAPv/AQAAAAAAAAAIAPr/AQAAAAAAAAAIAPn/AQAAAAAAAAAHAPj/AQAAAAAAAAAHAPf/AQAAAAAAAAAHAPb/AQAAAAAAAAAGAPb/AQAAAAAAAAAGAPX/AQAAAAAAAAAFAPX/AQAAAAAAAAAEAPX/AQAAAAAAAAAEAPT/AQAAAAAAAAADAPT/AQAAAAAAAAACAPT/AQAAAAAAAAABAPX/AQAAAAAAAAAAAPb/AQAAAAAAAAD///f/AQAAAAAAAAD+//f/AQAAAAIAAAD3//3/AQAAAAAAAAD3//7/AQAAAAAAAAD3////AQAAAAAAAAD3/wAAAQAAAAAAAAD3/wEAAQAAAAAAAAD4/wEAAQAAAAAAAAD4/wIAAQAAAAAAAAD4/wMAAQAAAAAAAAD4/wQAAQAAAAAAAAD4/wUAAQAAAAAAAAD4/wYAAQAAAAAAAAD4/wcAAQAAAAAAAAD4/wgAAQAAAAAAAAD5/wgAAQAAAAAAAAD5/wkAAQAAAAAAAAD6/wkAAQAAAAAAAAD7/wkAAQAAAAAAAAD8/wkAAQAAAAAAAAD8/woAAQAAAAAAAAD9/woAAQAAAAAAAAD9/wsAAQAAAAAAAAD+/wsAAQAAAAAAAAD+/wwAAQAAAAAAAAD//wwAAQAAAAAAAAAAAAsAAQAAAAAAAAABAAoAAQAAAAAAAAABAAkAAQAAAAAAAAACAAgAAQAAAAAAAAACAAcAAQAAAAAAAAADAAcAAQAAAAAAAAAAAAoAAQAAAAAAAAAAAAkAAQAAAAAAAAAAAAgAAQAAAAAAAAAAAAcAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAACAAAAAQAAAAAAAAADAAAAAQAAAAAAAAD9/wgAAQAAAAIAAAD9/wcAAQAAAAIAAAD9/wYAAQAAAAAAAAD8/wYAAQAAAAAAAAD8/wUAAQAAAAAAAAD7/wUAAQAAAAAAAAD5/wIAAQAAAAIAAAD5/wEAAQAAAAIAAAD5/wAAAQAAAAIAAAD5////AQAAAAIAAAD5//7/AQAAAAIAAAD5//3/AQAAAAIAAAD5//z/AQAAAAIAAAD4//3/AQAAAAIAAAD4//7/AQAAAAIAAAD4////AQAAAAIAAAD4/wAAAQAAAAIAAAD6//z/AQAAAAAAAAD6//v/AQAAAAAAAAD7//v/AQAAAAAAAAD7//r/AQAAAAAAAAD8//r/AQAAAAAAAAD6//7/AQAAAAIAAAD9//r/AQAAAAAAAAD9//n/AQAAAAIAAAD+//n/AQAAAAIAAAD+//j/AQAAAAIAAAD///j/AQAAAAIAAAD///n/AQAAAAIAAAD+//r/AQAAAAIAAAD+//v/AQAAAAIAAAD///v/AQAAAAIAAAD///r/AQAAAAIAAAAAAPr/AQAAAAAAAAAAAPn/AQAAAAIAAAAAAPj/AQAAAAIAAAAAAPf/AQAAAAIAAAABAPf/AQAAAAIAAAABAPb/AQAAAAIAAAACAPb/AQAAAAIAAAACAPX/AQAAAAIAAAADAPX/AQAAAAIAAAADAPb/AQAAAAIAAAACAPf/AQAAAAIAAAABAPj/AQAAAAIAAAABAPn/AQAAAAAAAAAAAPv/AQAAAAAAAAACAPj/AQAAAAAAAAADAPf/AQAAAAAAAAAEAPf/AQAAAAAAAAAEAPb/AQAAAAIAAAAFAPb/AQAAAAIAAAAFAPf/AQAAAAAAAAAFAPj/AQAAAAAAAAAFAPv/AQAAAAAAAAAGAPr/AQAAAAIAAAAGAPn/AQAAAAIAAAAGAPj/AQAAAAIAAAAGAPf/AQAAAAIAAAD5/wQAAQAAAAIAAAD5/wUAAQAAAAIAAAD5/wYAAQAAAAIAAAD5/wcAAQAAAAIAAAD6/wcAAQAAAAIAAAD6/wYAAQAAAAIAAAD6/wUAAQAAAAIAAAD7/wYAAQAAAAIAAAD7/wcAAQAAAAIAAAD6/wgAAQAAAAIAAAD7/wgAAQAAAAIAAAD8/wgAAQAAAAIAAAD8/wcAAQAAAAIAAAD7/wIAAQAAAAAAAAD7/wEAAQAAAAIAAAD7/wAAAQAAAAIAAAD7////AQAAAAIAAAD8////AQAAAAIAAAD9////AQAAAAIAAAD8/wAAAQAAAAIAAAD8/wEAAQAAAAAAAAD9/wAAAQAAAAAAAAD+/wAAAQAAAAAAAAD+////AQAAAAIAAAD+//7/AQAAAAIAAAD///3/AQAAAAIAAAD///7/AQAAAAIAAAD/////AQAAAAIAAAD//wAAAQAAAAAAAAAAAP//AQAAAAIAAAAAAP7/AQAAAAIAAAAAAP3/AQAAAAIAAAABAP3/AQAAAAIAAAABAP7/AQAAAAIAAAABAP//AQAAAAIAAAACAP7/AQAAAAIAAAACAP3/AQAAAAIAAAD+/wYAAQAAAAAAAAD+/wcAAQAAAAAAAAD+/wgAAQAAAAIAAAD9/wkAAQAAAAIAAAD+/wkAAQAAAAIAAAD+/woAAQAAAAIAAAD//woAAQAAAAIAAAD//wkAAQAAAAIAAAD//wgAAQAAAAIAAAD//wcAAQAAAAAAAAD//wsAAQAAAAIAAAADAAUAAQAAAAAAAAAEAAAAAQAAAAAAAAAFAAAAAQAAAAIAAAAFAAEAAQAAAAAAAAAEAAQAAQAAAAAAAAAEAAUAAQAAAAIAAAAFAAQAAQAAAAIAAAAFAAMAAQAAAAAAAAAFAAIAAQAAAAAAAAAGAAAAAQAAAAIAAAAHAP//AQAAAAIAAAAHAP7/AQAAAAIAAAABAAgAAQAAAAIAAAABAAcAAQAAAAIAAAAJAPv/AQAAAAIAAAAJAPr/AQAAAAIAAAD5/wMAAQAAAAIAAAD6/wMAAQAAAAAAAAD6/wQAAQAAAAAAAAAEAAEAAQAAAAAAAAD7//7/AQAAAAAAAAD8//7/AQAAAAAAAAD9//7/AQAAAAIAAAD+//3/AQAAAAAAAAD+//z/AQAAAAIAAAD9//v/AQAAAAAAAAD6//3/AQAAAAAAAAAFAPn/AQAAAAAAAAAFAPr/AQAAAAAAAAAEAPz/AQAAAAAAAAACAPz/AQAAAAAAAAAFAP3/AQAAAAIAAAAFAPz/AQAAAAAAAAADAPz/AQAAAAAAAAADAP3/AQAAAAAAAAAEAP3/AQAAAAIAAAADAP7/AQAAAAIAAAAEAP7/AQAAAAIAAAACAP//AQAAAAIAAAADAP//AQAAAAIAAAAEAP//AQAAAAIAAAAFAP//AQAAAAIAAAAFAP7/AQAAAAIAAAAGAPz/AQAAAAIAAAAGAPv/AQAAAAIAAAD6//r/AQAAAAIAAAD5//v/AQAAAAIAAAD4//z/AQAAAAIAAAD4//v/AQAAAAIAAAD4//r/AQAAAAIAAAD5//n/AQAAAAIAAAD5//j/AQAAAAAAAAD6//f/AQAAAAAAAAD7//f/AQAAAAAAAAD8//b/AQAAAAAAAAD8//f/AQAAAAAAAAD9//b/AQAAAAAAAAD9//f/AQAAAAIAAAD8//j/AQAAAAIAAAD7//j/AQAAAAIAAAD6//j/AQAAAAAAAAD4//n/AQAAAAAAAAD3//r/AQAAAAAAAAD3//v/AQAAAAAAAAD3//z/AQAAAAAAAAD+//b/AQAAAAAAAAD///b/AQAAAAAAAAAAAPX/AQAAAAAAAAD7//n/AQAAAAIAAAD6//n/AQAAAAIAAAD5//r/AQAAAAIAAAADAAoAAQAAAAAAAAAEAAoAAQAAAAAAAAAFAAoAAQAAAAAAAAAGAAkAAQAAAAAAAAAHAAgAAQAAAAAAAAAHAAcAAQAAAAAAAAAIAAYAAQAAAAAAAAAJAAUAAQAAAAAAAAAKAAQAAQAAAAAAAAAKAAMAAQAAAAIAAAALAAIAAQAAAAAAAAALAAEAAQAAAAIAAAAMAAAAAQAAAAAAAAALAAAAAQAAAAIAAAAKAAIAAQAAAAIAAAAJAAMAAQAAAAIAAAAJAAQAAQAAAAIAAAAIAAUAAQAAAAIAAAAIAAQAAQAAAAIAAAAIAAMAAQAAAAIAAAAIAAIAAQAAAAIAAAAIAAEAAQAAAAIAAAAJAAAAAQAAAAIAAAAJAAEAAQAAAAIAAAAJAAIAAQAAAAIAAAAHAAQAAQAAAAIAAAAHAAMAAQAAAAIAAAAHAAIAAQAAAAIAAAAKAAAAAQAAAAIAAAAKAP//AQAAAAIAAAAJAP//AQAAAAIAAAAHAAUAAQAAAAIAAAAGAAUAAQAAAAIAAAAGAAYAAQAAAAIAAAAFAAcAAQAAAAIAAAAFAAgAAQAAAAIAAAAEAAkAAQAAAAIAAAAGAAcAAQAAAAIAAAAHAAYAAQAAAAIAAAAIAAAAAQAAAAIAAAAFAAkAAQAAAAAAAAAGAAgAAQAAAAAAAAADAAkAAQAAAAIAAAACAAkAAQAAAAIAAAADAAgAAQAAAAIAAAAEAAgAAQAAAAIAAAAEAAcAAQAAAAIAAAAFAAYAAQAAAAIAAAAKAAEAAQAAAAIAAAALAP//AQAAAAAAAAALAP7/AQAAAAAAAAAKAP7/AQAAAAIAAAAJAP7/AQAAAAIAAAAMAP//AQAAAAAAAAAMAAEAAQAAAAAAAAALAAMAAQAAAAAAAAACAAsAAQAAAAAAAAABAAsAAQAAAAAAAAABAAwAAQAAAAAAAAACAAwAAQAAAAAAAAADAAsAAQAAAAAAAAACAAoAAQAAAAAAAAADAAwAAQAAAAAAAAAIAAcAAQAAAAAAAAAKAAUAAQAAAAAAAAAJAAYAAQAAAAAAAAAMAAIAAQAAAAAAAAAMAP7/AQAAAAAAAAAMAP3/AQAAAAAAAAAMAPz/AQAAAAAAAAALAPz/AQAAAAAAAAAKAPz/AQAAAAAAAAALAPv/AQAAAAAAAAAKAP3/AQAAAAAAAAALAP3/AQAAAAAAAAAEAAsAAQAAAAAAAAD8//n/AQAAAAAAAAD9//j/AQAAAAAAAAA=")
tile_set = SubResource("TileSet_svejp")
script = ExtResource("4_d4o4o")
objects = [NodePath("../../Player"), NodePath("../../obstacles/Cube"), NodePath("../../obstacles/Cube2"), NodePath("../../obstacles/Cube3"), NodePath("../../obstacles/Cube4")]
metadata/_custom_type_script = "uid://dirpxrivqygh"

[node name="GridLayer2" type="TileMapLayer" parent="Grid" node_paths=PackedStringArray("objects")]
visible = false
tile_map_data = PackedByteArray("AAD9/wQAAQAAAAIAAAD9/wMAAQAAAAIAAAD+/wIAAQAAAAIAAAD9/wIAAQAAAAIAAAD+/wEAAQAAAAIAAAD8/wIAAQAAAAIAAAD8/wEAAQAAAAIAAAD7/wEAAQAAAAIAAAD8/wAAAQAAAAIAAAD7/wAAAQAAAAIAAAD7/wIAAQAAAAIAAAD7/wMAAQAAAAIAAAD8/wMAAQAAAAIAAAD6/wIAAQAAAAIAAAD6/wMAAQAAAAIAAAD6/wQAAQAAAAIAAAD6/wUAAQAAAAIAAAD7/wUAAQAAAAIAAAD7/wQAAQAAAAIAAAD5/wMAAQAAAAIAAAD5/wIAAQAAAAIAAAD5/wEAAQAAAAIAAAD5/wAAAQAAAAIAAAD6/wEAAQAAAAIAAAD6/wAAAQAAAAIAAAD6////AQAAAAIAAAD7//7/AQAAAAIAAAD7//3/AQAAAAIAAAD8//3/AQAAAAIAAAD9//3/AQAAAAIAAAD+//z/AQAAAAIAAAD///z/AQAAAAIAAAD8//z/AQAAAAIAAAD9//z/AQAAAAIAAAD+//v/AQAAAAIAAAD///r/AQAAAAIAAAD///n/AQAAAAIAAAD///v/AQAAAAIAAAD+//n/AQAAAAIAAAD9//r/AQAAAAIAAAD8//v/AQAAAAIAAAD9//v/AQAAAAIAAAD+//r/AQAAAAIAAAD7//v/AQAAAAIAAAD6//z/AQAAAAIAAAD5//3/AQAAAAIAAAD5//7/AQAAAAIAAAD5////AQAAAAIAAAD6//7/AQAAAAIAAAD6//3/AQAAAAIAAAD4////AQAAAAIAAAD4/wAAAQAAAAIAAAD4//7/AQAAAAIAAAD7//z/AQAAAAIAAAD4//3/AQAAAAIAAAD5//z/AQAAAAIAAAD6//v/AQAAAAIAAAD7//r/AQAAAAIAAAD8//r/AQAAAAIAAAD9//n/AQAAAAIAAAD///j/AQAAAAIAAAD+//j/AQAAAAIAAAAAAPj/AQAAAAIAAAAAAPn/AQAAAAIAAAAAAPr/AQAAAAIAAAABAPn/AQAAAAIAAAABAPj/AQAAAAIAAAABAPf/AQAAAAIAAAACAPf/AQAAAAIAAAAAAPf/AQAAAAIAAAABAPb/AQAAAAIAAAACAPX/AQAAAAIAAAACAPb/AQAAAAIAAAADAPb/AQAAAAIAAAADAPX/AQAAAAIAAAADAPf/AQAAAAIAAAAEAPf/AQAAAAIAAAADAPj/AQAAAAIAAAACAPj/AQAAAAIAAAAEAPb/AQAAAAIAAAAFAPf/AQAAAAIAAAAFAPj/AQAAAAIAAAAEAPj/AQAAAAIAAAAGAPf/AQAAAAIAAAAGAPj/AQAAAAIAAAAGAPn/AQAAAAIAAAAFAPb/AQAAAAIAAAA=")
tile_set = SubResource("TileSet_svejp")
script = ExtResource("4_d4o4o")
objects = [NodePath("../../Player"), NodePath("../../obstacles/Cube"), NodePath("../../obstacles/Cube2"), NodePath("../../obstacles/Cube3"), NodePath("../../obstacles/Cube4")]
metadata/_custom_type_script = "uid://dirpxrivqygh"

[node name="highlight_marker" type="Sprite2D" parent="Grid"]
position = Vector2(0, 1)
texture = ExtResource("3_kem5a")

[node name="InteractiveCamera" type="Camera2D" parent="." node_paths=PackedStringArray("target_actor")]
script = ExtResource("7_gxmxl")
target_actor = NodePath("../Player")
metadata/_custom_type_script = "uid://j3332qarlia6"

[node name="Player" type="CharacterBody2D" parent="." node_paths=PackedStringArray("movement_component")]
input_pickable = true
script = ExtResource("3_gxmxl")
movement_component = NodePath("MovementComponent")
metadata/_custom_type_script = "uid://btpvs3o7syi78"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(0, -25)
shape = SubResource("CapsuleShape2D_n4w22")

[node name="MovementComponent" type="Node" parent="Player" node_paths=PackedStringArray("actor")]
script = ExtResource("4_n4w22")
actor = NodePath("..")
metadata/_custom_type_script = "uid://b2jti6cxxenal"

[node name="Sprite2D" type="Sprite2D" parent="Player"]
position = Vector2(0, -60)
scale = Vector2(0.3, 0.3)
texture = ExtResource("6_gxmxl")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="demo_ui" parent="CanvasLayer" instance=ExtResource("10_d4o4o")]
